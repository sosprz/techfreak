<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Nettemp – poczatki &middot; Przemek</title>
        <meta name="description" content="Pierwsza instalacja – pomiar temperatury
Moja pierwsza instalacja **nettemp’**a znajduje się u mnie w domu i składa się z siedmiu czujników temperatury DS18B20, przystawki 1 wire na USB która była początkowo podłączona do małego serwera na debianie, potem do ThinClient HP a skończyło się na Raspberry Pi. Na własne potrzeby stworzyłem skrypty i stronę www aby wygodnie obsługiwać czujniki a później powiadomienia mail i sms a na końcu sterowanie przekaźnikiem. Co nie oznacza że to koniec pomysłów ;)\">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.113.0">
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Nettemp – poczatki">
<meta property="og:description" content="Pierwsza instalacja – pomiar temperatury
Moja pierwsza instalacja **nettemp’**a znajduje się u mnie w domu i składa się z siedmiu czujników temperatury DS18B20, przystawki 1 wire na USB która była początkowo podłączona do małego serwera na debianie, potem do ThinClient HP a skończyło się na Raspberry Pi. Na własne potrzeby stworzyłem skrypty i stronę www aby wygodnie obsługiwać czujniki a później powiadomienia mail i sms a na końcu sterowanie przekaźnikiem. Co nie oznacza że to koniec pomysłów ;)\">
<meta property="og:type" content="article">
<meta property="og:url" content="https://techfreak.pl/nettemp-poczatki/">
        <link rel="stylesheet" href="https://techfreak.pl/dist/site.css">
        <link rel="stylesheet" href="https://techfreak.pl/dist/syntax.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
        
        

    </head>
    <body>
        
<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-43800014-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a href="https://techfreak.pl/">techfreak blog</a>
                            </h1>
                        
                        
                            <a class="button-square" href="https://techfreak.pl/index.xml" aria-label="RSS"><i class="fa fa-rss" aria-hidden="true"></i></a>
                        
                        
                        
                        
                        
                        
                        
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a href="/categories/drony">Drony</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/drukarki-3d">Drukarki 3D</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/elektronika">Elektronika</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/linux">Linux</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/network">Network</a>
    </li>

    <li class="site-nav-item">
        <a href="/tags/nettemp">Nettemp</a>
    </li>

    <li class="site-nav-item">
        <a href="/page/contact/">Kontakt</a>
    </li>


                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Nettemp – poczatki</h1>
    
    <p class="post-date">
        <span>Published <time datetime="2013-01-08" itemprop="datePublished">Tue, Jan 8, 2013</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="#" itemprop="url" rel="author">Przemek</a>
            </span>
        </span>
    </p>
    
        <p class="post-reading post-line">
            <span>Estimated reading time: 3 min</span>
        </p>
    
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <h3 id="pierwsza-instalacja-8211-pomiar-temperatury">Pierwsza instalacja – pomiar temperatury</h3>
<p>Moja pierwsza instalacja **nettemp’**a znajduje się u mnie w domu i składa się z siedmiu czujników temperatury DS18B20, przystawki 1 wire na USB która była początkowo podłączona do małego serwera na debianie, potem do ThinClient HP a skończyło się na <strong>Raspberry Pi</strong>. Na własne potrzeby stworzyłem skrypty i stronę www aby wygodnie obsługiwać czujniki a później powiadomienia mail i sms a na końcu sterowanie przekaźnikiem. Co nie oznacza że to koniec pomysłów ;)\</p>
<h4 id="skład-zestawu">Skład zestawu:</h4>
<p>– <strong>Rasbperry Pi</strong> + przekażnik 5V – 240V<br>
– przewody  po ok od 20m do 40m (tak na 40 metrach to działa, kabel domofonowy 6 żył)<br>
– czujniki temperatury DS18B20<br>
– przystawka 1-wire USB od meraprojekt lub samodzielna przystawka <strong>DS9097E</strong> + USB-Serial lub czujniki podłączone bezpośrednio pod <strong>GPIO.</strong></p>
<h3 id="jak-podłączyć-czujniki-pod-gpio-w-raspberry-pi-">Jak podłączyć czujniki pod <strong>GPIO</strong> w Raspberry PI ?</h3>
<p>Bardzo prosto według poniższego schematu potrzeba tylko rezystora 4.7K. Wszystkie czujniki trzeba podłączyć równolegle i wystarczy jeden rezystor na wszystkie.</p>
<p><a href="http://techfreak.pl/wp-content/uploads/2013/01/sensor-connection.png"><img class="aligncenter size-full wp-image-3219" src="http://techfreak.pl/wp-content/uploads/2013/01/sensor-connection.png" alt="sensor-connection" width="574" height="228" /></a></p>
<p> </p>
<p><a href="http://http://www.cl.cam.ac.uk/projects/raspberrypi/tutorials/temperature/" target="_blank">źródło fotki</a></p>
<p>Tak to wygląda u mnie na Raspberry pi. Pod GPIO podłączone tylko dwa czujniki a reszta DS18B20 jest podłączona poprzez USB.</p>
<p><a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_GPIO.jpg"><img class="aligncenter size-full wp-image-3220" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_GPIO.jpg" alt="nettemp_GPIO" width="1000" height="500" /></a></p>
<p> </p>
<h3 id="schemat-gpio">Schemat GPIO</h3>
<p><a href="http://techfreak.pl/wp-content/uploads/2013/01/Diagram-includes-BCM-GPIO-references.png"><img class="aligncenter size-full wp-image-3223" src="http://techfreak.pl/wp-content/uploads/2013/01/Diagram-includes-BCM-GPIO-references.png" alt="Diagram-includes-BCM-GPIO-references" width="1200" height="732" /></a></p>
<p><a href="http://www.adafruit.com/" target="_blank">źródło fotki</a></p>
<h3 id="jak-samemu-złożyć-przystawkę-">Jak samemu złożyć przystawkę ?</h3>
<p>Prosta sprawa trzeba kupić części ze schematu poniżej i podłączyć pod przejściówkę RS-232 USB.</p>
<p><a href="http://techfreak.pl/wp-content/uploads/2013/01/Ds9097e.gif"><img class="aligncenter size-full wp-image-3144" src="http://techfreak.pl/wp-content/uploads/2013/01/Ds9097e.gif" alt="Ds9097e" width="474" height="292" /></a></p>
<p><a href="http://techfreak.pl/wp-content/uploads/2013/01/usb-to-rs232.jpg"><img class="aligncenter size-full wp-image-3145" src="http://techfreak.pl/wp-content/uploads/2013/01/usb-to-rs232.jpg" alt="usb to rs232" width="500" height="500" /></a></p>
<h3 id="zalety-i-wady-przystawki-ds9097e">Zalety i wady przystawki DS9097E?</h3>
<p>Zaletą przystawki jest to że czujnik DS18B20 podłączamy tylko pod dwa przewody a nie trzy jak w przypadku GPIO. Więc zaletą jest tylko dwu żyłowa instalacja lub wykorzystanie np. przewodów od alarmu lub innej podobnej instalacji.</p>
<p>Wadą jest minimalnie droższa instalacja. Trzeba dokupić parę elementów i przejściówkę USB-Serial.</p>
<h3 id="moduł-ze-starego-switcha">Moduł ze starego switcha?</h3>
<p>Dla wygody i żeby jakoś to wyglądało postanowiłem ze starego switcha zrobić przystawkę/moduł do którego będę podłączał kable z czujnikami. Nie podobały mi się poskręcane kabelki a zarobione RJ45 super wyglądają. W środku jest moduł 1-wire na USB do którego połączone są czujniki. Sam moduł jest podłączony do Raspberry PI.</p>
<p><a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przystawka_techfreak.jpg"><img src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przystawka_techfreak.jpg" alt="nettemp_przystawka_techfreak" width="1500" height="1125" /></a></p>
<p> </p>
<h3 id="sterowanie-przekaźnikiem">Sterowanie Przekaźnikiem:</h3>
<p><a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0529_1.jpg"><img class="aligncenter size-full wp-image-3138" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0529_1.jpg" alt="nettemp_przekaznik_techfreakIMAG0529_1" width="1000" height="563" /></a> <a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0530_1.jpg"><img class="aligncenter size-full wp-image-3139" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0530_1.jpg" alt="nettemp_przekaznik_techfreakIMAG0530_1" width="1000" height="563" /></a> <a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0531_1.jpg"><img class="aligncenter size-full wp-image-3140" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0531_1.jpg" alt="nettemp_przekaznik_techfreakIMAG0531_1" width="1000" height="1778" /></a> <a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0532_1.jpg"><img class="aligncenter size-full wp-image-3141" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_przekaznik_techfreakIMAG0532_1.jpg" alt="nettemp_przekaznik_techfreakIMAG0532_1" width="1000" height="563" /></a></p>
<h3 id="jak-zbudować-sterowanie-przekaźnikiem">Jak zbudować sterowanie przekaźnikiem?</h3>
<p>Potrzebne elementy:</p>
<ol>
<li>dioda D1 jakaś podobna do 1N4004</li>
<li>rezystor R1 – 1K</li>
<li>tranzystor Q1 – BC337</li>
<li>Przekaźnik 240V sterowany 5V</li>
</ol>
<p><a href="http://techfreak.pl/nettemp/relay-sample/" rel="attachment wp-att-808"><img class="aligncenter size-full wp-image-808" src="http://techfreak.pl/wp-content/uploads/2013/01/Relay-Sample.jpg" alt="Relay-Sample" width="469" height="362" /></a></p>
<p> </p>
<p>Schemat pod linkiem <a href="http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/" target="_blank">susa.net</a></p>
<h3 id="druga-instalacja-8211-serwerownia">Druga instalacja – serwerownia</h3>
<p>Aby sprawdzić czy wszystko działa poprawnie w innych warunkach niż domowe postanowiłem zainstalować wszystko w serwerowni w firmie w której pracuje. Testy które trwały ponad pół roku przebiegły zaskakująco dobrze. Ponieważ system linux na Thin Client był tworzony na podstawie TinyCore, a że nie znałem platformy IGEL miałem pewne obawy o stabilność. Okazało się że nie potrzebnie :)</p>
<h4 id="skład-zestawu-1">Skład zestawu:</h4>
<p>– przystawka na 8 czujników<br>
– Thin Client IGEL + software ( linux na karcie CF 128MB)<br>
– przewody 4x 5m i 4x 10m<br>
– czujniki temperatury DS18B20</p>
<p> </p>
<h3 id="img-classaligncenter-size-full-wp-image-3131-srchttptechfreakplwp-contentuploads201301nettemp_serwerownia_techfreakimag0267_1jpg-altnettemp_serwerownia_techfreakimag0267_1-width1000-height564-11-img-classaligncenter-size-full-wp-image-3132-srchttptechfreakplwp-contentuploads201301nettemp_serwerownia_techfreakimag0268_1jpg-altnettemp_serwerownia_techfreakimag0268_1-width1000-height564-12-img-classaligncenter-size-full-wp-image-3133-srchttptechfreakplwp-contentuploads201301nettemp_serwerownia_techfreakimag0269_1jpg-altnettemp_serwerownia_techfreakimag0269_1-width1000-height564-13-img-classaligncenter-size-full-wp-image-3134-srchttptechfreakplwp-contentuploads201301nettemp_serwerownia_techfreakimag0271_1jpg-altnettemp_serwerownia_techfreakimag0271_1-width1000-height564-14-img-classaligncenter-size-full-wp-image-3135-srchttptechfreakplwp-contentuploads201301nettemp_serwerownia_techfreakimag0272_1jpg-altnettemp_serwerownia_techfreakimag0272_1-width1000-height564-15"><a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0267_1.jpg"><img class="aligncenter size-full wp-image-3131" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0267_1.jpg" alt="nettemp_serwerownia_techfreakIMAG0267_1" width="1000" height="564" /></a> <a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0268_1.jpg"><img class="aligncenter size-full wp-image-3132" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0268_1.jpg" alt="nettemp_serwerownia_techfreakIMAG0268_1" width="1000" height="564" /></a> <a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0269_1.jpg"><img class="aligncenter size-full wp-image-3133" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0269_1.jpg" alt="nettemp_serwerownia_techfreakIMAG0269_1" width="1000" height="564" /></a> <a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0271_1.jpg"><img class="aligncenter size-full wp-image-3134" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0271_1.jpg" alt="nettemp_serwerownia_techfreakIMAG0271_1" width="1000" height="564" /></a> <a href="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0272_1.jpg"><img class="aligncenter size-full wp-image-3135" src="http://techfreak.pl/wp-content/uploads/2013/01/nettemp_serwerownia_techfreakIMAG0272_1.jpg" alt="nettemp_serwerownia_techfreakIMAG0272_1" width="1000" height="564" /></a></h3>
<h3 id="heading"></h3>
<h3 id="jak-zainstalować-nettemp-na-raspberry-pi">Jak zainstalować nettemp na Raspberry Pi?</h3>
<p>Stworzyłem automatyczny instalator dla Raspberry Pi który instaluje i konfiguruje wszystkie potrzebne paczki aby nettemp działał. Nie trzeba po instalacji robić nic aby program zaczął działać. Projekt jest dostępny na github <a href="https://github.com/sosprz/nettemp">https://github.com/sosprz/nettemp</a></p>
<h4 id="span-styleline-height-15eminstalacjaspan"><span style="line-height: 1.5em;">Instalacja</span></h4>
<p>Skrypt instaluje potrzebne paczki i konfiguruje serwer www. Umożliwia wybranie czy chcesz zainstalować wersję beta czy stabilną.</p>
<pre>sudo su –
apt-get update
apt-get install ca-certificates
wget https://raw.github.com/sosprz/nettemp/master/nettemp_install_on_raspberry_pi.sh
chmod 755 nettemp_install_on_raspberry_pi.sh
./nettemp_install_on_raspberry_pi.sh</pre>
<h4 id="wsparcie">Wsparcie</h4>
<p>Jeśli uważasz że projekt nettemp jest fajny wesprzyj go dobrowolną darowizną poprzez PayPal.</p>
</div>

        <footer class="post-footer clearfix">
        <p class="post-tags">
            <span>Tagged:</span>
                <a href="/tags/nettemp/">nettemp</a>
        </p>
    <div class="share">
            <a class="icon-twitter" href="https://twitter.com/share?text=Nettemp%20%e2%80%93%20poczatki&url=https%3a%2f%2ftechfreak.pl%2fnettemp-poczatki%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" aria-label="Share on Twitter">
                <i class="fa fa-twitter" aria-hidden="true"></i>
            </a>
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftechfreak.pl%2fnettemp-poczatki%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" aria-label="Share on Facebook">
                <i class="fa fa-facebook" aria-hidden="true"></i>
            </a>
    </div>
</footer>

        
    <div class="comments">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "techfreakpl" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a href="https://techfreak.pl/">techfreak blog</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#" aria-label="Back to Top">
                        <i class="fa fa-angle-up" aria-hidden="true"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2024 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="https://techfreak.pl/js/jquery-1.11.3.min.js"></script>
        <script src="https://techfreak.pl/js/jquery.fitvids.js"></script>
        <script src="https://techfreak.pl/js/scripts.js"></script>
        
    </body>
</html>

