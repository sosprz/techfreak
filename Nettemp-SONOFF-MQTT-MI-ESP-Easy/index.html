<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Nettemp SONOFF MQTT MI ESP Easy &middot; Przemek</title>
        <meta name="description" content="Najnowsza aktualizacja Nettemp przynosi parę funkcji i poprawek.">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.113.0">
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Nettemp SONOFF MQTT MI ESP Easy">
<meta property="og:description" content="Najnowsza aktualizacja Nettemp przynosi parę funkcji i poprawek.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://techfreak.pl/Nettemp-SONOFF-MQTT-MI-ESP-Easy/">
        <link rel="stylesheet" href="https://techfreak.pl/dist/site.css">
        <link rel="stylesheet" href="https://techfreak.pl/dist/syntax.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
        
        

    </head>
    <body>
        
<script type="application/javascript">
var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
var doNotTrack = (dnt == "1" || dnt == "yes");
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-43800014-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a href="https://techfreak.pl/">techfreak blog</a>
                            </h1>
                        
                        
                            <a class="button-square" href="https://techfreak.pl/index.xml" aria-label="RSS"><i class="fa fa-rss" aria-hidden="true"></i></a>
                        
                        
                        
                        
                        
                        
                        
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a href="/categories/drony">Drony</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/drukarki-3d">Drukarki 3D</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/elektronika">Elektronika</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/linux">Linux</a>
    </li>

    <li class="site-nav-item">
        <a href="/categories/network">Network</a>
    </li>

    <li class="site-nav-item">
        <a href="/tags/nettemp">Nettemp</a>
    </li>

    <li class="site-nav-item">
        <a href="/page/contact/">Kontakt</a>
    </li>


                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Nettemp SONOFF MQTT MI ESP Easy</h1>
    
    <p class="post-date">
        <span>Published <time datetime="2024-03-18" itemprop="datePublished">Mon, Mar 18, 2024</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="#" itemprop="url" rel="author">Przemek</a>
            </span>
        </span>
    </p>
    
        <p class="post-reading post-line">
            <span>Estimated reading time: 2 min</span>
        </p>
    
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <p>Najnowsza aktualizacja Nettemp przynosi parę funkcji i poprawek.</p>
<p>W najnowszej wersji Nettemp integruje się z technologiami używanymi przez społeczność IoT, na przykład odbieranie danych z ESP Easy poprzez MQTT lub za pomocą Generic HTTP, czyli odbieranie danych przez GET. Jeśli chodzi o MQTT, Nettemp posiada funkcję subskrybenta. Odbiera dane od brokera, jeśli interesujący temat zawiera dane, które zna, zapisuje je do bazy. Testy i integracja przeprowadzone zostały za pomocą danych z ESP Easy oraz danych wysyłanych z Home Assistant, w tym konkretnie z demona ebusd oraz z Nettemp_client, który również wysyła dane po MQTT, jeśli tak jest ustawione.</p>
<p><img src="https://techfreak.pl/static/wp-content/uploads/2024/03/20240318-nettemp-mqtt.png" alt="alt text">
<img src="https://techfreak.pl/static/wp-content/uploads/2024/03/20240318-nettemp-ESP.png" alt="alt text"></p>
<h1 id="sql-alchemy">SQL Alchemy</h1>
<p>Kolejną nowością jest zmiana sposobu interakcji z bazą danych na SQL Alchemy, co umożliwia wybór bazy danych, której chcemy używać, bez konieczności przepisywania kodu. Testy odbywały się na SQLite3 oraz MariaDB. Dodatkowo, Gunicorn używa teraz nowego workera, co pozwala na lepszą obsługę wielowątkowości.</p>
<h1 id="sonoff">Sonoff</h1>
<p>Zrealizowano integrację z Ewelink, czyli urządzeniami takimi jak włączniki lub przekaźniki WiFi Sonoff. Na tym etapie wykonano odczyt danych z czujników temperatury i wilgotności, jeśli urządzenie takie posiada, oraz możliwość sterowania - włącz/wyłącz.</p>
<p><img src="https://techfreak.pl/static/wp-content/uploads/2024/03/20240318-nettemp-sonoff-ewelink.png" alt="alt text"></p>
<h1 id="mi">Mi</h1>
<p>Integracja z ekosystemem Mi obejmuje odczyt urządzeń i czujników. Na razie odczytuję listę posiadanych urządzeń na koncie Xiaomi oraz dane z Mi Air Purifier 3/3H, np. temperaturę, wilgotność lub stopień zanieczyszczenia powietrza. Tu niestety nie jest ławo zintegrować wszystko urządzenia za jednymrazem bez testów. Jeśli ktoś ma potrzebę niech daje znać można dodać urządzania po małych testach.</p>
<p><img src="https://techfreak.pl/static/wp-content/uploads/2024/03/20240318-nettemp-mi.png" alt="alt text"></p>
<h1 id="mobile">Mobile</h1>
<p>Poprawiono stronę mobilną. Całość aplikacji została dostosowana pod kątem lepszego wyświetlania na urządzeniach mobilnych. Skrót do strony na telefonie działa teraz jak aplikacja mobilna.</p>
<h1 id="nettemp_client">nettemp_client</h1>
<p>nettemp_client umożliwia odczyt urządzeń USB, I2C, pingowanie URL, Host. Nettemp_client oferuje duże możliwości łatwej rozbudowy o nowe moduły i prostego wysyłania danych do Nettemp. Ostatnio dodano funkcję pingowania URL i hosta, co pozwala na monitorowanie urządzeń sieciowych. Klient jest łatwo konfigurowalny z poziomu interfejsu Nettemp.</p>
<h1 id="wykresy">Wykresy</h1>
<p>Powróciła możliwość grupowania danych na wykresach, co oznacza, że użytkownik może grupować i wyświetlać dane w słupkach. Dodatkowa funkcja matematyczna pozwala na dokonywanie obliczeń przez użytkownika, tak aby wykresy pokazywały na przykład dane o zużyciu gazu, wody itd., np. w jednostkach PLN, kWh lub innych.</p>
<p><img src="https://techfreak.pl/static/wp-content/uploads/2024/03/20240318-nettemp-ESP-charts.png" alt="alt text"></p>
<h1 id="koniec">Koniec</h1>
<p>Pewnie to nie wszystko z nowych lub poprawionych funkcji ale w razie problemów lub pytań zapraszam do komentowania lub na grupę <a href="https://discord.com/invite/S4egxNvQHM">https://discord.com/invite/S4egxNvQHM</a>.</p>
<p>W razie potrzeby konfiguracji ESP Easy, dostępne są mini instrukcje:
<a href="https://github.com/sosprz/nettemp/wiki">https://github.com/sosprz/nettemp/wiki</a></p>
</div>

        <footer class="post-footer clearfix">
        <p class="post-tags">
            <span>Tagged:</span>
                <a href="/tags/nettemp/">nettemp</a>
        </p>
    <div class="share">
            <a class="icon-twitter" href="https://twitter.com/share?text=Nettemp%20SONOFF%20MQTT%20MI%20ESP%20Easy&url=https%3a%2f%2ftechfreak.pl%2fNettemp-SONOFF-MQTT-MI-ESP-Easy%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" aria-label="Share on Twitter">
                <i class="fa fa-twitter" aria-hidden="true"></i>
            </a>
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftechfreak.pl%2fNettemp-SONOFF-MQTT-MI-ESP-Easy%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" aria-label="Share on Facebook">
                <i class="fa fa-facebook" aria-hidden="true"></i>
            </a>
    </div>
</footer>

        
    <div class="comments">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "techfreakpl" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a href="https://techfreak.pl/">techfreak blog</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#" aria-label="Back to Top">
                        <i class="fa fa-angle-up" aria-hidden="true"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2024 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="https://techfreak.pl/js/jquery-1.11.3.min.js"></script>
        <script src="https://techfreak.pl/js/jquery.fitvids.js"></script>
        <script src="https://techfreak.pl/js/scripts.js"></script>
        
    </body>
</html>

